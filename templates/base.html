{% load static from staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Urban museum</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- CSS
		================================================== -->
		<!-- Fontawesome Icon font -->
    <link rel="stylesheet" href="{%  static 'brandi/css/font-awesome.min.css' %}">
		<!-- Twitter Bootstrap css -->
    <link rel="stylesheet" href="{%  static 'brandi/css/bootstrap.min.css' %}">
		<!-- jquery.fancybox  -->
    <link rel="stylesheet" href="{%  static 'brandi/css/jquery.fancybox.css' %}">
		<!-- animate -->
    <link rel="stylesheet" href="{%  static 'brandi/css/animate.css' %}">
		<!-- Main Stylesheet -->
    <link rel="stylesheet" href="{%  static 'brandi/css/main.css' %}">
		<!-- media-queries -->
    <link rel="stylesheet" href="{%  static 'brandi/css/media-queries.css' %}">

    <link rel="stylesheet" href="{%  static 'css/style.css' %}">

		<!-- Modernizer Script for old Browsers -->
    <script src="{%  static 'brandi/js/modernizr-2.6.2.min.js' %}"></script>


    <!-- Maps -->

        <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map_container{
          background-color: coral;
          height: 300px;
      }
    </style>
    <!-- Maps -->


    <!-- Stripe -->
		<!-- Twitter Bootstrap -->
    <script src="{%  static 'brandi/js/bootstrap.min.js' %}"></script>
        <!-- Main jQuery -->
        <script src="{%  static 'brandi/js/jquery-1.11.1.min.js' %}"></script>
    {% block head_js %}{% endblock %}
</head>
<body>
    <header class=" navbar-fixed-top navbar" style="background-color: rgba(16, 22, 54, 0.2);" id="header" >
        <div class="container">
            <div class="navbar-header">
                <!-- responsive nav button -->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <i class="fa fa-bars fa-2x"></i>
                </button>
                <!-- /responsive nav button -->
                <!-- logo -->
                <a class="navbar-brand" href="{% url 'home' %}">
                    <h1 id="logo">
                        URBAN MUSEUM
                    </h1>
                </a>
                <!-- /logo -->
            </div>
            <div class="collapse navbar-collapse navbar-right" role="navigation">
    	    <!-- main nav -->
                <nav class="collapse navbar-collapse navbar-right" role="navigation">
                    <ul id="nav" class="nav navbar-nav">
                        <li class="current"><a href="{% url 'home' %}">  </a></li>
                    </ul>
                </nav>
				<!-- /main nav -->
                	<!-- main nav -->
                <nav class="collapse navbar-collapse navbar-right" role="navigation">
                    <ul id="nav" class="nav navbar-nav">
                        {% if user.is_authenticated %}
                        <li class="current"><a href="{% url 'get_discover' %}">Discover</a></li>
                        <li><a href="{% url 'add_musuem' %}"> New museum </a></li>
                        <li><a href="{% url 'my_museums' %}"> My museums </a></li>
                        <li><a href="{% url 'profile' %}">Profile</a></li>
                        <li class="current"><a href="{% url 'donations' %}"> Support us </a></li>
                        <li><a href="{% url 'log_out' %}">Log out</a></li>
                        {% else %}
                        <li><a href="{% url 'log_in' %}?next={% url 'profile' %}">Log in</a></li>
                        <li><a href="{% url 'register' %}">Register</a></li>
                        {% endif %}
                    </ul>
                </nav>
				<!-- /main nav -->
            </div>
         </div>
        {% if messages %}
            <div class="alert alert-success">
                <div class="messages">
                    {% for message in messages %}
                        {{ message }}
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </header>

        {% block content %}
        {% endblock %}
	<a href="javascript:void(0);" id="back-top"><i class="fa fa-angle-up fa-3x"></i></a>

        <!-- maps-->
        <script>
          function initMap() {
            var place = {lat: 53.338116, lng: -6.255752};
            var map = new google.maps.Map(document.getElementById('map'), {
              center: place,
              zoom: 15});
            var marker = new google.maps.Marker({
                position: place,
                map: map
            });
       var infoWindow = new google.maps.InfoWindow({map: map});

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            infoWindow.setPosition(pos);
            infoWindow.setContent('Location found.');
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
        console.log(pos)
      }

      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
      }
        </script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCyoxLo6W65s7TXZ-9Igd1-j16P_czQp0k
        &callback=initMap" type="text/javascript"></script>

		<!-- Essential jQuery Plugins
		================================================== -->

		<!-- Single Page Nav -->
        <script src="{%  static 'brandi/js/jquery.singlePageNav.min.js' %}"></script>

		<!-- jquery.fancybox.pack -->
        <script src="{%  static 'brandi/js/jquery.fancybox.pack.js' %}"></script>
		<!-- jquery.mixitup.min -->
        <script src="{%  static 'brandi/js/jquery.mixitup.min.js' %}"></script>
		<!-- jquery.parallax -->
        <script src="{%  static 'brandi/js/jquery.parallax-1.1.3.js' %}"></script>
		<!-- jquery.countTo -->
        <script src="{%  static 'brandi/js/jquery-countTo.js' %}"></script>
		<!-- jquery.appear -->
        <script src="{%  static 'brandi/js/jquery.appear.js' %}"></script>
		<!-- Contact form validation -->
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.32/jquery.form.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.11.1/jquery.validate.min.js"></script>

		<!-- jquery easing -->
        <script src="{%  static 'brandi/js/jquery.easing.min.js' %}"></script>
		<!-- jquery easing -->
        <script src="{%  static 'brandi/js/wow.min.js' %}"></script>

		<!-- Urban museum Javascript -->
        <script src="{%  static 'js/urban_js.js' %}"></script>

		<script>
			var wow = new WOW ({
				boxClass:     'wow',      // animated element css class (default is wow)
				animateClass: 'animated', // animation css class (default is animated)
				offset:       120,          // distance to the element when triggering the animation (default is 0)
				mobile:       false,       // trigger animations on mobile devices (default is true)
				live:         true        // act on asynchronously loaded content (default is true)
			  }
			);
			wow.init();
		</script>
		<!-- Custom Functions -->
        <script src="{%  static 'brandi/js/custom.js' %}"></script>
		<script type="text/javascript">
			$(function(){
				/* ========================================================================= */
				/*	Contact Form
				/* ========================================================================= */

				$('#contact-form').validate({
					rules: {
						name: {
							required: true,
							minlength: 2
						},
						email: {
							required: true,
							email: true
						},
						message: {
							required: true
						}
					},
					messages: {
						name: {
							required: "come on, you have a name don't you?",
							minlength: "your name must consist of at least 2 characters"
						},
						email: {
							required: "no email, no message"
						},
						message: {
							required: "um...yea, you have to write something to send this form.",
							minlength: "thats all? really?"
						}
					},
					submitHandler: function(form) {
						$(form).ajaxSubmit({
							type:"POST",
							data: $(form).serialize(),
							url:"process.php",
							success: function() {
								$('#contact-form :input').attr('disabled', 'disabled');
								$('#contact-form').fadeTo( "slow", 0.15, function() {
									$(this).find(':input').attr('disabled', 'disabled');
									$(this).find('label').css('cursor','default');
									$('#success').fadeIn();
								});
							},
							error: function() {
								$('#contact-form').fadeTo( "slow", 0.15, function() {
									$('#error').fadeIn();
								});
							}
						});
					}
				});
			});
		</script>
</body>
</html>
